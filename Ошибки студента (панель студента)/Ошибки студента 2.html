<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéì –†–∞–∑–±–æ—Ä –æ—à–∏–±–æ–∫</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }
        h2 {
            color: #34495e;
            font-size: 1.8em;
            margin-top: 30px;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 40px;
            padding: 20px;
            background-color: #eaf2f8;
            border-radius: 8px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.08);
        }
        .filters label {
            font-weight: bold;
            color: #333;
            margin-right: 5px;
            align-self: center;
        }
        .filters select {
            padding: 10px 15px;
            border-radius: 5px;
            border: 1px solid #b0c4de;
            font-size: 1em;
            min-width: 150px;
            background-color: #fff;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .section-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        .card {
            background-color: #fcfcfc;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            text-align: center;
            border-left: 6px solid #3498db; /* Primary accent color */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .card h3 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.3em;
            margin-bottom: 10px;
        }
        .card .value {
            font-size: 2.8em;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 10px;
        }
        .card p {
            font-size: 1em;
            color: #555;
            margin: 0;
        }
        .chart-full-width {
            margin-top: 30px;
            background-color: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        .chart-container {
            position: relative; /* Needed for Chart.js responsive behavior */
            height: 350px; /* Adjust height as needed */
            width: 100%;
        }

        /* –¢–∞–±–ª–∏—Ü–∞ "–†–∞–±–æ—Ç—ã —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º–∏ –±–∞–ª–ª–∞–º–∏" */
        .low-score-table-container {
            margin-top: 30px;
            background-color: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            overflow-x: auto; /* –î–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã */
        }
        .low-score-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        .low-score-table th, .low-score-table td {
            border: 1px solid #ddd;
            padding: 12px 15px;
            text-align: left;
        }
        .low-score-table th {
            background-color: #f2f2f2;
            color: #333;
            font-weight: bold;
            white-space: nowrap;
        }
        .low-score-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .low-score-table tr:hover {
            background-color: #eef;
        }
        .low-score-table button {
            background-color: #5bc0de;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.2s;
        }
        .low-score-table button:hover {
            background-color: #31b0d5;
        }

        /* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ */
        .recommendations-section {
            margin-top: 30px;
            background-color: #e0ffe0; /* Light green */
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border-left: 6px solid #28a745; /* Green accent */
        }
        .recommendations-section ul {
            list-style: none;
            padding: 0;
        }
        .recommendations-section ul li {
            background-color: #f0fff0;
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 5px;
            display: flex; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º flexbox */
            flex-direction: column; /* –≠–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ –±—É–¥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ */
            align-items: flex-start; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é */
            text-align: left; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ */
            border: 1px solid #d4edda;
        }
        .recommendations-section ul li span {
            margin-bottom: 5px; /* –ù–µ–±–æ–ª—å—à–æ–π –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É —Å—Ç—Ä–æ–∫–∞–º–∏ */
        }
        .recommendations-section ul li strong {
            color: #28a745;
        }
        .recommendations-section ul li a {
            background-color: #28a745;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            transition: background-color 0.2s;
            font-size: 0.9em;
            white-space: nowrap; /* Prevent wrapping */
            margin-top: 10px; /* –û—Ç—Å—Ç—É–ø —Å—Å—ã–ª–∫–∏ –æ—Ç —Ç–µ–∫—Å—Ç–∞ */
            align-self: flex-end; /* –°—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç –ø—Ä–∏–∂–∏–º–∞—Ç—å—Å—è –∫ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é –≤–Ω—É—Ç—Ä–∏ li */
        }
        .recommendations-section ul li a:hover {
            background-color: #218838;
        }

        /* –î–∏–∞–≥—Ä–∞–º–º–∞ –æ—à–∏–±–æ–∫ –∏ –õ–∏—á–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å */
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        .chart-card {
            background-color: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .progress-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .progress-card {
            background-color: #e9f5ff; /* Light blue */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            text-align: center;
            border-bottom: 4px solid #4a90e2;
        }
        .progress-card .value {
            font-size: 2.5em;
            font-weight: bold;
            color: #4a90e2;
            margin-top: 10px;
            margin-bottom: 5px;
        }
        .progress-card p {
            font-size: 1.1em;
            color: #555;
            margin: 0;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .filters {
                flex-direction: column;
                align-items: stretch;
            }
            .filters select {
                width: 100%;
                min-width: unset;
            }
            .dashboard-grid, .section-grid, .chart-grid, .progress-cards {
                grid-template-columns: 1fr;
            }
            .card {
                padding: 20px;
            }
            .card .value {
                font-size: 2.2em;
            }
            .low-score-table th, .low-score-table td {
                padding: 10px;
                font-size: 0.9em;
            }
            .low-score-table button {
                padding: 6px 10px;
                font-size: 0.8em;
            }
            .recommendations-section ul li {
                align-items: flex-start; /* –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –≤—Å–µ –ø—Ä–∏–∂–∏–º–∞–µ—Ç—Å—è –∫ –ª–µ–≤–æ–º—É –∫—Ä–∞—é */
            }
            .recommendations-section ul li a {
                align-self: flex-start; /* –ò —Å—Å—ã–ª–∫–∞ —Ç–æ–∂–µ –ø—Ä–∏–∂–∏–º–∞–µ—Ç—Å—è –∫ –ª–µ–≤–æ–º—É –∫—Ä–∞—é */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéì –î–∞—à–±–æ—Ä–¥ "–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ –ø–æ –∫—É—Ä—Å—É"</h1>

        <div class="filters">
            <div>
                <label for="subject-select">–ü—Ä–µ–¥–º–µ—Ç:</label>
                <select id="subject-select">
                    <option value="mathematics">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
                    <option value="data-analysis">–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö</option>
                    <option value="digital-mathematics">–¶–∏—Ñ—Ä–æ–≤–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
                </select>
            </div>
            <div>
                <label for="semester-select">–°–µ–º–µ—Å—Ç—Ä:</label>
                <select id="semester-select">
                    <option value="1">1 —Å–µ–º–µ—Å—Ç—Ä</option>
                    <option value="2">2 —Å–µ–º–µ—Å—Ç—Ä</option>
                </select>
            </div>
        </div>

        <h2>üìà –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –∫—É—Ä—Å—É</h2>
        <div class="section-grid">
            <div class="card">
                <h3 id="avg-completion-rate-title">–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è </h3>
                <div class="value" id="avg-completion-rate">--%</div>
                <p>–ø–æ –≤—Å–µ–º —Ç–∏–ø–∞–º —Ä–∞–±–æ—Ç</p>
            </div>
            <div class="card">
                <h3>–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç</h3>
                <div class="value" id="avg-homework-score">--%</div>
                <p>–º–∞–∫—Å–∏–º—É–º 100%</p>
            </div>
            <div class="card">
                <h3>–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç</h3>
                <div class="value" id="avg-classwork-score">--%</div>
                <p>–º–∞–∫—Å–∏–º—É–º 100%</p>
            </div>
            <div class="card">
                <h3>–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã</h3>
                <div class="value" id="avg-test-score">-- / 5</div>
                <p>–º–∞–∫—Å–∏–º—É–º 5 –±–∞–ª–ª–æ–≤</p>
            </div>
        </div>

        <div class="chart-full-width">
            <h2>–î–∏–Ω–∞–º–∏–∫–∞ –±–∞–ª–ª–æ–≤ –ø–æ –Ω–µ–¥–µ–ª—è–º / —Ç–µ–º–∞–º</h2>
            <div class="chart-container">
                <canvas id="performanceChart"></canvas>
            </div>
        </div>

        <div class="low-score-table-container">
            <h2>üìâ –†–∞–±–æ—Ç—ã —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º–∏ –±–∞–ª–ª–∞–º–∏</h2>
            <table class="low-score-table">
                <thead>
                    <tr>
                        <th>–¢–µ–º–∞</th>
                        <th>–¢–∏–ø —Ä–∞–±–æ—Ç—ã</th>
                        <th>–ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</th>
                        <th>–î–∞—Ç–∞</th>
                        <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                    </tr>
                </thead>
                <tbody id="low-score-works-body">
                    <tr>
                        <td>–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–π</td>
                        <td>–î–æ–º–∞—à–Ω—è—è —Ä–∞–±–æ—Ç–∞</td>
                        <td>40%</td>
                        <td>10.03.2025</td>
                        <td><button onclick="showDetails('work123')">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</button></td>
                    </tr>
                    <tr>
                        <td>–õ–∏–Ω–µ–π–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è</td>
                        <td>–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è</td>
                        <td>30%</td>
                        <td>24.03.2025</td>
                        <td><button onclick="showDetails('work456')">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</button></td>
                    </tr>
                    <tr>
                        <td>–ò–Ω—Ç–µ–≥—Ä–∞–ª—ã</td>
                        <td>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è ‚Ññ1</td>
                        <td>60%</td>
                        <td>01.04.2025</td>
                        <td><button onclick="showDetails('work789')">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="recommendations-section">
            <h2>üß† –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</h2>
            <ul id="recommended-materials">
                <li>
                    <span>–¢–µ–º–∞: <strong>–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–π</strong></span>
                    <span>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª: –í–∏–¥–µ–æ—É—Ä–æ–∫ "–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∏ –≥—Ä–∞—Ñ–∏–∫–∏"</span>
                    <a href="#" target="_blank">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—é</a>
                </li>
                <li>
                    <span>–¢–µ–º–∞: <strong>–õ–∏–Ω–µ–π–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è</strong></span>
                    <span>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫—É—Ä—Å Stepik</span>
                    <a href="#" target="_blank">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—é</a>
                </li>
            </ul>
        </div>

        <div class="chart-grid">
            <div class="chart-card">
                <h2>üìä –î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤</h2>
                <div class="chart-container" style="height: 300px; width: 300px;">
                    <canvas id="errorDistributionChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h2>üìä –ß–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ç–µ–º</h2>
                <div class="chart-container" style="height: 350px;">
                    <canvas id="problematicTopicsChart"></canvas>
                </div>
            </div>
        </div>

        <h2>üìò –õ–∏—á–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
        <div class="progress-cards">
            <div class="progress-card">
                <div class="value" id="completed-works">--</div>
                <p>–£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç</p>
            </div>
            <div class="progress-card">
                <div class="value" id="low-score-count">--</div>
                <p>–†–∞–±–æ—Ç —Å –±–∞–ª–ª–æ–º –Ω–∏–∂–µ 60%</p>
            </div>
        </div>
        <div class="chart-full-width">
            <h2>–ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–∏—Ö –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç</h2>
            <div class="chart-container">
                <canvas id="overallProgressChart"></canvas>
            </div>
        </div>

    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤, —á—Ç–æ–±—ã –∏—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±–Ω–æ–≤–ª—è—Ç—å/—É–Ω–∏—á—Ç–æ–∂–∞—Ç—å
        let performanceChart;
        let errorDistributionChart;
        let problematicTopicsChart;
        let overallProgressChart;

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π (–¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏")
        function showDetails(workId) {
            alert(`–û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å ID: ${workId}\n–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è.`);
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –¥–µ—Ç–∞–ª—è–º–∏ –∏ —Ç.–¥.
        }

        document.addEventListener('DOMContentLoaded', () => {
            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤
            const subjectSelect = document.getElementById('subject-select');
            const semesterSelect = document.getElementById('semester-select');

            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            const avgCompletionRateTitle = document.getElementById('avg-completion-rate-title');
            const avgCompletionRate = document.getElementById('avg-completion-rate');
            const avgHomeworkScore = document.getElementById('avg-homework-score');
            const avgClassworkScore = document.getElementById('avg-classwork-score');
            const avgTestScore = document.getElementById('avg-test-score');

            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
            const performanceCtx = document.getElementById('performanceChart').getContext('2d');
            const errorDistributionCtx = document.getElementById('errorDistributionChart').getContext('2d');
            const problematicTopicsCtx = document.getElementById('problematicTopicsChart').getContext('2d');
            const overallProgressCtx = document.getElementById('overallProgressChart').getContext('2d');

            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–æ–≤/—Ç–∞–±–ª–∏—Ü
            const lowScoreWorksBody = document.getElementById('low-score-works-body');
            const recommendedMaterials = document.getElementById('recommended-materials');
            const completedWorks = document.getElementById('completed-works');
            const lowScoreCount = document.getElementById('low-score-count');

            // --- –ü—Ä–∏–º–µ—Ä –ú–û–î–ï–õ–¨–ù–´–• –î–ê–ù–ù–´–• ---
            // maxScores –¥–ª—è —Ç–∏–ø–æ–≤ —Ä–∞–±–æ—Ç
            const MAX_SCORE_HOMEWORK = 10;
            const MAX_SCORE_CLASSWORK = 10;
            const MAX_SCORE_TEST = 5; // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é - 5

            const mockData = {
                'mathematics': {
                    '1': { // –°–µ–º–µ—Å—Ç—Ä 1
                        'all': { // –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ä–∞–±–æ—Ç
                            avgCompletionRate: '78%',
                            performanceByTopic: {
                                labels: ['–ù–µ–¥–µ–ª—è 1', '–ù–µ–¥–µ–ª—è 2', '–ù–µ–¥–µ–ª—è 3', '–ù–µ–¥–µ–ª—è 4', '–ù–µ–¥–µ–ª—è 5', '–ù–µ–¥–µ–ª—è 6', '–ù–µ–¥–µ–ª—è 7'],
                                scores: [70, 75, 80, 65, 72, 78, 75] // –û–±—â–∏–µ –±–∞–ª–ª—ã
                            },
                            lowWorks: [
                                { id: 'math-w1-hw', topic: '–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–π', type: '–î–æ–º–∞—à–Ω—è—è —Ä–∞–±–æ—Ç–∞', score: 4, maxScore: MAX_SCORE_HOMEWORK, date: '10.03.2025' },
                                { id: 'math-w2-cw', topic: '–¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—è', type: '–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è', score: 5, maxScore: MAX_SCORE_CLASSWORK, date: '17.03.2025' },
                                { id: 'math-w3-test', topic: '–ò–Ω—Ç–µ–≥—Ä–∞–ª—ã', type: '–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è ‚Ññ1', score: 3, maxScore: MAX_SCORE_TEST, date: '01.04.2025' }
                            ],
                            recommendations: [
                                { topic: '–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–π', material: '–í–∏–¥–µ–æ—É—Ä–æ–∫ "–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∏ –≥—Ä–∞—Ñ–∏–∫–∏"', format: '–í–∏–¥–µ–æ', link: '#' },
                                { topic: '–¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—è', material: '–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏–∏', format: '–¢–µ—Å—Ç', link: '#' },
                                { topic: '–ò–Ω—Ç–µ–≥—Ä–∞–ª—ã', material: '–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫—É—Ä—Å "–û—Å–Ω–æ–≤—ã –∏–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω–æ–≥–æ –∏—Å—á–∏—Å–ª–µ–Ω–∏—è"', format: '–û–Ω–ª–∞–π–Ω-–∫—É—Ä—Å', link: '#' }
                            ],
                            errorDistribution: [30, 25, 20, 25],
                            problematicTopics: {
                                labels: ['–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ', '–ò–Ω—Ç–µ–≥—Ä–∞–ª—ã', '–î–∏—Ñ—Ñ. —É—Ä–∞–≤–Ω–µ–Ω–∏—è', '–†—è–¥—ã'],
                                counts: [5, 4, 3, 2]
                            },
                            personalProgress: {
                                completedWorks: 25,
                                lowScoreCount: 7, // –†–∞–±–æ—Ç —Å –±–∞–ª–ª–æ–º –Ω–∏–∂–µ 60%
                                progressTrend: {
                                    labels: ['–¢–µ–º–∞ 1', '–¢–µ–º–∞ 2', '–¢–µ–º–∞ 3', '–¢–µ–º–∞ 4', '–¢–µ–º–∞ 5', '–¢–µ–º–∞ 6'],
                                    homeworkScores: [60, 65, 55, 70, 68, 75], // –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –±–∞–ª–ª–∞–º –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç
                                    classworkScores: [70, 72, 60, 68, 75, 80] // –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –±–∞–ª–ª–∞–º —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç
                                }
                            },
                            avgHomeworkPercentage: '75', // –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç
                            avgClassworkPercentage: '62', // –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç
                            avgTestScore: '3.8', // –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã (–∏–∑ 5)
                        },
                    },
                    '2': { // –°–µ–º–µ—Å—Ç—Ä 2 - –ó–∞–º–µ—Ç–Ω–æ –æ—Ç–ª–∏—á–∞—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ
                        'all': {
                            avgCompletionRate: '90%', // –í—ã—à–µ
                            performanceByTopic: {
                                labels: ['–ù–µ–¥–µ–ª—è 8', '–ù–µ–¥–µ–ª—è 9', '–ù–µ–¥–µ–ª—è 10', '–ù–µ–¥–µ–ª—è 11', '–ù–µ–¥–µ–ª—è 12'],
                                scores: [85, 90, 88, 92, 95] // –í—ã—à–µ
                            },
                            lowWorks: [
                                { id: 'math2-w2-cw', topic: '–¢–µ–æ—Ä–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π', type: '–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è', score: 7, maxScore: MAX_SCORE_CLASSWORK, date: '01.05.2025' }, // –í—ã—à–µ
                                { id: 'math2-w3-test', topic: '–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', type: '–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è ‚Ññ2', score: 4, maxScore: MAX_SCORE_TEST, date: '15.05.2025' } // –í—ã—à–µ
                            ],
                            recommendations: [
                                { topic: '–¢–µ–æ—Ä–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π', material: '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫—É—Ä—Å "–¢–µ–æ—Ä–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π"', format: '–û–Ω–ª–∞–π–Ω-–∫—É—Ä—Å', link: '#' },
                                { topic: '–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', material: '–ö–Ω–∏–≥–∞ "–û—Å–Ω–æ–≤—ã –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"', format: 'PDF', link: '#' },
                            ],
                            errorDistribution: [10, 15, 25, 50], // –ë–æ–ª—å—à–µ –≤—ã—Å–æ–∫–∏—Ö –±–∞–ª–ª–æ–≤
                            problematicTopics: {
                                labels: ['–§—É—Ä—å–µ-–∞–Ω–∞–ª–∏–∑', '–£—Ä–∞–≤–Ω–µ–Ω–∏—è –≤ —á–∞—Å—Ç–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö', '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è'],
                                counts: [2, 1, 1] // –ú–µ–Ω—å—à–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ç–µ–º
                            },
                            personalProgress: {
                                completedWorks: 35, // –ë–æ–ª—å—à–µ
                                lowScoreCount: 3, // –ú–µ–Ω—å—à–µ
                                progressTrend: {
                                    labels: ['–¢–µ–º–∞ 7', '–¢–µ–º–∞ 8', '–¢–µ–º–∞ 9', '–¢–µ–º–∞ 10', '–¢–µ–º–∞ 11', '–¢–µ–º–∞ 12'],
                                    homeworkScores: [75, 80, 85, 82, 88, 90], // –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –±–∞–ª–ª–∞–º –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç
                                    classworkScores: [80, 85, 82, 88, 90, 92] // –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –±–∞–ª–ª–∞–º —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç
                                }
                            },
                            avgHomeworkPercentage: '88', // –í—ã—à–µ
                            avgClassworkPercentage: '80', // –í—ã—à–µ
                            avgTestScore: '4.5', // –í—ã—à–µ
                        }
                    }
                },
                'data-analysis': {
                    '1': {
                        'all': {
                            avgCompletionRate: '75%',
                            performanceByTopic: {
                                labels: ['–ù–µ–¥–µ–ª—è 1', '–ù–µ–¥–µ–ª—è 2', '–ù–µ–¥–µ–ª—è 3', '–ù–µ–¥–µ–ª—è 4', '–ù–µ–¥–µ–ª—è 5'],
                                scores: [65, 70, 72, 60, 68]
                            },
                            lowWorks: [
                                { id: 'da-w1-hw', topic: '–õ–∏–Ω–µ–π–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è', type: '–î–æ–º–∞—à–Ω—è—è —Ä–∞–±–æ—Ç–∞', score: 3, maxScore: MAX_SCORE_HOMEWORK, date: '24.03.2025' },
                                { id: 'da-w2-test', topic: '–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥', type: '–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è ‚Ññ1', score: 2, maxScore: MAX_SCORE_TEST, date: '05.04.2025' }
                            ],
                            recommendations: [
                                { topic: '–õ–∏–Ω–µ–π–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è', material: '–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫—É—Ä—Å Stepik –ø–æ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏', format: '–û–Ω–ª–∞–π–Ω-–∫—É—Ä—Å', link: '#' },
                                { topic: '–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥', material: '–í–∏–¥–µ–æ—É—Ä–æ–∫ "–û—Å–Ω–æ–≤—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞"', format: '–í–∏–¥–µ–æ', link: '#' }
                            ],
                            errorDistribution: [40, 30, 20, 10],
                            problematicTopics: {
                                labels: ['–†–µ–≥—Ä–µ—Å—Å–∏—è', '–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è', '–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è', '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è'],
                                counts: [6, 4, 3, 2]
                            },
                            personalProgress: {
                                completedWorks: 20,
                                lowScoreCount: 10,
                                progressTrend: {
                                    labels: ['–¢–µ–º–∞ 1', '–¢–µ–º–∞ 2', '–¢–µ–º–∞ 3', '–¢–µ–º–∞ 4', '–¢–µ–º–∞ 5', '–¢–µ–º–∞ 6'],
                                    homeworkScores: [50, 60, 58, 65, 62, 70],
                                    classworkScores: [55, 62, 60, 68, 65, 72]
                                }
                            },
                            avgHomeworkPercentage: '70',
                            avgClassworkPercentage: '60',
                            avgTestScore: '2.5',
                        }
                    },
                    '2': { // –°–µ–º–µ—Å—Ç—Ä 2 - –ó–∞–º–µ—Ç–Ω–æ –æ—Ç–ª–∏—á–∞—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ
                        'all': {
                            avgCompletionRate: '65%', // –ù–∏–∂–µ
                            performanceByTopic: {
                                labels: ['–ù–µ–¥–µ–ª—è 6', '–ù–µ–¥–µ–ª—è 7', '–ù–µ–¥–µ–ª—è 8', '–ù–µ–¥–µ–ª—è 9', '–ù–µ–¥–µ–ª—è 10'],
                                scores: [55, 60, 58, 62, 60] // –ù–∏–∂–µ
                            },
                            lowWorks: [
                                { id: 'da2-w1-hw', topic: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤', type: '–î–æ–º–∞—à–Ω—è—è —Ä–∞–±–æ—Ç–∞', score: 2, maxScore: MAX_SCORE_HOMEWORK, date: '01.05.2025' }, // –ù–∏–∂–µ
                                { id: 'da2-w2-test', topic: '–†–∞–±–æ—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ä—è–¥–∞–º–∏', type: '–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è ‚Ññ2', score: 1, maxScore: MAX_SCORE_TEST, date: '15.05.2025' } // –ù–∏–∂–µ
                            ],
                            recommendations: [
                                { topic: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤', material: '–°—Ç–∞—Ç—å—è "Imputation Techniques"', format: '–°—Ç–∞—Ç—å—è', link: '#' },
                                { topic: '–†–∞–±–æ—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ä—è–¥–∞–º–∏', material: '–ö—É—Ä—Å "Time Series Analysis"', format: '–û–Ω–ª–∞–π–Ω-–∫—É—Ä—Å', link: '#' },
                            ],
                            errorDistribution: [50, 25, 15, 10], // –ë–æ–ª—å—à–µ –Ω–∏–∑–∫–∏—Ö –±–∞–ª–ª–æ–≤
                            problematicTopics: {
                                labels: ['–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã', '–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞', '–ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏'],
                                counts: [7, 5, 4] // –ë–æ–ª—å—à–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ç–µ–º
                            },
                            personalProgress: {
                                completedWorks: 18, // –ú–µ–Ω—å—à–µ
                                lowScoreCount: 12, // –ë–æ–ª—å—à–µ
                                progressTrend: {
                                    labels: ['–¢–µ–º–∞ 7', '–¢–µ–º–∞ 8', '–¢–µ–º–∞ 9', '–¢–µ–º–∞ 10', '–¢–µ–º–∞ 11', '–¢–µ–º–∞ 12'],
                                    homeworkScores: [60, 55, 62, 58, 60, 55],
                                    classworkScores: [58, 52, 60, 55, 58, 50]
                                }
                            },
                            avgHomeworkPercentage: '60', // –ù–∏–∂–µ
                            avgClassworkPercentage: '55', // –ù–∏–∂–µ
                            avgTestScore: '1.8', // –ù–∏–∂–µ
                        }
                    }
                },
                'digital-mathematics': {
                    '1': {
                        'all': {
                            avgCompletionRate: '80%',
                            performanceByTopic: {
                                labels: ['–ù–µ–¥–µ–ª—è 1', '–ù–µ–¥–µ–ª—è 2', '–ù–µ–¥–µ–ª—è 3', '–ù–µ–¥–µ–ª—è 4', '–ù–µ–¥–µ–ª—è 5'],
                                scores: [75, 80, 70, 72, 78]
                            },
                            lowWorks: [
                                { id: 'dm-w1-hw', topic: '–ë—É–ª–µ–≤–∞ –∞–ª–≥–µ–±—Ä–∞', type: '–î–æ–º–∞—à–Ω—è—è —Ä–∞–±–æ—Ç–∞', score: 5, maxScore: MAX_SCORE_HOMEWORK, date: '15.03.2025' }
                            ],
                            recommendations: [
                                { topic: '–ë—É–ª–µ–≤–∞ –∞–ª–≥–µ–±—Ä–∞', material: '–ó–∞–¥–∞—á–Ω–∏–∫ –ø–æ –±—É–ª–µ–≤–æ–π –∞–ª–≥–µ–±—Ä–µ', format: '–¢–µ—Å—Ç', link: '#' }
                            ],
                            errorDistribution: [20, 30, 30, 20],
                            problematicTopics: {
                                labels: ['–ê–ª–≥–æ—Ä–∏—Ç–º—ã', '–ì—Ä–∞—Ñ—ã', '–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞'],
                                counts: [4, 3, 2]
                            },
                            personalProgress: {
                                completedWorks: 22,
                                lowScoreCount: 8,
                                progressTrend: {
                                    labels: ['–¢–µ–º–∞ 1', '–¢–µ–º–∞ 2', '–¢–µ–º–∞ 3', '–¢–µ–º–∞ 4', '–¢–µ–º–∞ 5', '–¢–µ–º–∞ 6'],
                                    homeworkScores: [70, 75, 65, 78, 70, 80],
                                    classworkScores: [75, 80, 70, 72, 78, 85]
                                }
                            },
                            avgHomeworkPercentage: '78',
                            avgClassworkPercentage: '68',
                            avgTestScore: '3.0',
                        }
                    },
                    '2': { // –°–µ–º–µ—Å—Ç—Ä 2 - –ó–∞–º–µ—Ç–Ω–æ –æ—Ç–ª–∏—á–∞—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ
                        'all': {
                            avgCompletionRate: '70%', // –ù–∏–∂–µ
                            performanceByTopic: {
                                labels: ['–ù–µ–¥–µ–ª—è 6', '–ù–µ–¥–µ–ª—è 7', '–ù–µ–¥–µ–ª—è 8', '–ù–µ–¥–µ–ª—è 9', '–ù–µ–¥–µ–ª—è 10'],
                                scores: [65, 70, 68, 70, 65] // –ù–∏–∂–µ
                            },
                            lowWorks: [
                                { id: 'dm2-w1-hw', topic: '–¢–µ–æ—Ä–∏—è –∞–≤—Ç–æ–º–∞—Ç–æ–≤', type: '–î–æ–º–∞—à–Ω—è—è —Ä–∞–±–æ—Ç–∞', score: 3, maxScore: MAX_SCORE_HOMEWORK, date: '01.05.2025' }, // –ù–∏–∂–µ
                                { id: 'dm2-w2-cw', topic: '–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è', type: '–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è', score: 4, maxScore: MAX_SCORE_CLASSWORK, date: '10.05.2025' }, // –ù–∏–∂–µ
                                { id: 'dm2-w3-test', topic: '–¢–µ–æ—Ä–∏—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è', type: '–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è ‚Ññ2', score: 2, maxScore: MAX_SCORE_TEST, date: '20.05.2025' } // –ù–∏–∂–µ
                            ],
                            recommendations: [
                                { topic: '–¢–µ–æ—Ä–∏—è –∞–≤—Ç–æ–º–∞—Ç–æ–≤', material: '–õ–µ–∫—Ü–∏–∏ –ø–æ —Ç–µ–æ—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–æ–≤', format: '–í–∏–¥–µ–æ', link: '#' },
                                { topic: '–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è', material: '–£—á–µ–±–Ω–∏–∫ –ø–æ –æ—Å–Ω–æ–≤–∞–º –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏', format: '–ö–Ω–∏–≥–∞', link: '#' },
                            ],
                            errorDistribution: [35, 30, 20, 15], // –ú–µ–Ω—å—à–µ –≤—ã—Å–æ–∫–∏—Ö –±–∞–ª–ª–æ–≤
                            problematicTopics: {
                                labels: ['–¢–µ–æ—Ä–∏—è –≥—Ä–∞—Ñ–æ–≤', '–ö–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞', '–î–∏—Å–∫—Ä–µ—Ç–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞'],
                                counts: [5, 4, 3] // –ë–æ–ª—å—à–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ç–µ–º
                            },
                            personalProgress: {
                                completedWorks: 19, // –ú–µ–Ω—å—à–µ
                                lowScoreCount: 10, // –ë–æ–ª—å—à–µ
                                progressTrend: {
                                    labels: ['–¢–µ–º–∞ 7', '–¢–µ–º–∞ 8', '–¢–µ–º–∞ 9', '–¢–µ–º–∞ 10', '–¢–µ–º–∞ 11', '–¢–µ–º–∞ 12'],
                                    homeworkScores: [65, 60, 68, 62, 60, 55],
                                    classworkScores: [60, 55, 62, 58, 55, 50]
                                }
                            },
                            avgHomeworkPercentage: '65', // –ù–∏–∂–µ
                            avgClassworkPercentage: '60', // –ù–∏–∂–µ
                            avgTestScore: '2.2', // –ù–∏–∂–µ
                        }
                    }
                }
            };

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ (–î–∏–Ω–∞–º–∏–∫–∞ –±–∞–ª–ª–æ–≤ –ø–æ –Ω–µ–¥–µ–ª—è–º/—Ç–µ–º–∞–º)
            function createOrUpdatePerformanceChart(labels, scores) {
                if (performanceChart) {
                    performanceChart.destroy();
                }
                performanceChart = new Chart(performanceCtx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: '–ë–∞–ª–ª',
                            data: scores,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.2)',
                            borderWidth: 2,
                            pointRadius: 5,
                            pointBackgroundColor: '#3498db',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                title: { display: true, text: '–ë–∞–ª–ª' }
                            },
                            x: {
                                title: { display: true, text: '–ù–µ–¥–µ–ª—è / –¢–µ–º–∞' }
                            }
                        },
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return '–ë–∞–ª–ª: ' + context.raw;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–ª—å—Ü–µ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã (–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫)
            function createOrUpdateErrorDistributionChart(dataValues) {
                if (errorDistributionChart) {
                    errorDistributionChart.destroy();
                }
                errorDistributionChart = new Chart(errorDistributionCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['< 50%', '50-70%', '70-85%', '> 85%'],
                        datasets: [{
                            data: dataValues,
                            backgroundColor: ['#e74c3c', '#f1c40f', '#2ecc71', '#3498db'], // –ö—Ä–∞—Å–Ω—ã–π, –∂–µ–ª—Ç—ã–π, –∑–µ–ª–µ–Ω—ã–π, —Å–∏–Ω–∏–π
                            borderColor: '#fff',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    boxWidth: 20
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        label += context.raw + '%';
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã (–ß–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ç–µ–º)
            function createOrUpdateProblematicTopicsChart(labels, counts) {
                if (problematicTopicsChart) {
                    problematicTopicsChart.destroy();
                }
                problematicTopicsChart = new Chart(problematicTopicsCtx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –≤ "–ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö"',
                            data: counts,
                            backgroundColor: 'rgba(52, 152, 219, 0.7)',
                            borderColor: '#3498db',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y', // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±–∏–∫–∏
                        scales: {
                            x: {
                                beginAtZero: true,
                                title: { display: true, text: '–ß–∞—Å—Ç–æ—Ç–∞' }
                            },
                            y: {
                                title: { display: true, text: '–¢–µ–º–∞' }
                            }
                        },
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': ' + context.raw;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ (–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å)
            // –¢–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö: –¥–ª—è –¥–æ–º–∞—à–Ω–∏—Ö –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç
            function createOrUpdateOverallProgressChart(labels, homeworkScores, classworkScores) {
                if (overallProgressChart) {
                    overallProgressChart.destroy();
                }
                overallProgressChart = new Chart(overallProgressCtx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            {
                                label: '–î–æ–º–∞—à–Ω–∏–µ —Ä–∞–±–æ—Ç—ã (%)',
                                data: homeworkScores,
                                borderColor: '#28a745', /* Green */
                                backgroundColor: 'rgba(40, 167, 69, 0.2)',
                                borderWidth: 2,
                                pointRadius: 5,
                                pointBackgroundColor: '#28a745',
                                tension: 0.4,
                                fill: false // No fill for this line
                            },
                            {
                                label: '–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã (%)',
                                data: classworkScores,
                                borderColor: '#007bff', /* Blue */
                                backgroundColor: 'rgba(0, 123, 255, 0.2)',
                                borderWidth: 2,
                                pointRadius: 5,
                                pointBackgroundColor: '#007bff',
                                tension: 0.4,
                                fill: false // No fill for this line
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                title: { display: true, text: '–ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è' }
                            },
                            x: {
                                title: { display: true, text: '–¢–µ–º–∞' }
                            }
                        },
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top'
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': ' + context.raw + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞
            function updateDashboard() {
                const selectedSubject = subjectSelect.value;
                const selectedSemester = semesterSelect.value;

                const subjectData = mockData[selectedSubject];
                if (!subjectData) { console.error("No data for subject:", selectedSubject); return; }

                const semesterData = subjectData[selectedSemester];
                if (!semesterData) { console.error("No data for semester:", selectedSemester); return; }

                const data = semesterData['all'];
                if (!data) {
                    console.error(`No data for subject: ${selectedSubject} and semester: ${selectedSemester}`);
                    return;
                }

                // –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                avgCompletionRateTitle.textContent = '–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ä–∞–±–æ—Ç';
                avgCompletionRate.textContent = data.avgCompletionRate;

                avgHomeworkScore.textContent = `${data.avgHomeworkPercentage}%`;
                avgClassworkScore.textContent = `${data.avgClassworkPercentage}%`;
                avgTestScore.textContent = `${data.avgTestScore} / ${MAX_SCORE_TEST}`;


                // –ì—Ä–∞—Ñ–∏–∫: –î–∏–Ω–∞–º–∏–∫–∞ –±–∞–ª–ª–æ–≤ –ø–æ –Ω–µ–¥–µ–ª—è–º / —Ç–µ–º–∞–º
                createOrUpdatePerformanceChart(data.performanceByTopic.labels, data.performanceByTopic.scores);

                // –†–∞–±–æ—Ç—ã —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º–∏ –±–∞–ª–ª–∞–º–∏ (—Ç–∞–±–ª–∏—Ü–∞)
                lowScoreWorksBody.innerHTML = '';
                // –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–¥–µ—Å—å: —Ç–µ–ø–µ—Ä—å `score` –∏ `maxScore` - —ç—Ç–æ —á–∏—Å–ª–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç
                data.lowWorks.forEach(work => {
                    const tr = document.createElement('tr');
                    // –í—ã—á–∏—Å–ª—è–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                    const percentage = work.maxScore > 0 ? ((work.score / work.maxScore) * 100).toFixed(0) + '%' : 'N/A';
                    tr.innerHTML = `
                        <td>${work.topic}</td>
                        <td>${work.type}</td>
                        <td>${percentage}</td>
                        <td>${work.date}</td>
                        <td><button onclick="showDetails('${work.id}')">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</button></td>
                    `;
                    lowScoreWorksBody.appendChild(tr);
                });

                // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
                recommendedMaterials.innerHTML = '';
                data.recommendations.forEach(rec => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <span>–¢–µ–º–∞: <strong>${rec.topic}</strong></span>
                        <span>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª: ${rec.material}</span>
                        <a href="${rec.link}" target="_blank">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—é</a>
                    `;
                    recommendedMaterials.appendChild(li);
                });

                // –î–∏–∞–≥—Ä–∞–º–º–∞ –æ—à–∏–±–æ–∫
                createOrUpdateErrorDistributionChart(data.errorDistribution);
                createOrUpdateProblematicTopicsChart(data.problematicTopics.labels, data.problematicTopics.counts);


                // –õ–∏—á–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                completedWorks.textContent = data.personalProgress.completedWorks;
                lowScoreCount.textContent = data.personalProgress.lowScoreCount;
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                createOrUpdateOverallProgressChart(
                    data.personalProgress.progressTrend.labels,
                    data.personalProgress.progressTrend.homeworkScores,
                    data.personalProgress.progressTrend.classworkScores
                );
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—à–±–æ—Ä–¥–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            updateDashboard();

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
            subjectSelect.addEventListener('change', updateDashboard);
            semesterSelect.addEventListener('change', updateDashboard);
        });
    </script>
</body>
</html>